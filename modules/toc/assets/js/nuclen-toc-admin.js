const n=e=>{const l=document.getElementById(e);if(!l)throw new Error(`Missing element: ${e}`);return l},t={min:n("nuclen-min"),max:n("nuclen-max"),list:n("nuclen-list"),title:n("nuclen-title"),tog:n("nuclen-tog"),col:n("nuclen-col"),smo:n("nuclen-smo"),hil:n("nuclen-hil"),off:n("nuclen-off")},o=n("nuclen-shortcode-preview"),c=n("nuclen-copy");function i(){let e="[simple_toc";t.min.value!=="2"&&(e+=` min_level="${t.min.value}"`),t.max.value!=="6"&&(e+=` max_level="${t.max.value}"`),t.list.value!=="ul"&&(e+=` list="${t.list.value}"`);const l=t.title.value.trim();l&&(e+=` title="${l.replace(/"/g,"&quot;")}"`),t.tog.checked||(e+=' toggle="false"'),t.col.checked&&(e+=' collapsed="true"'),t.smo.checked||(e+=' smooth="false"'),t.hil.checked||(e+=' highlight="false"'),t.off.value!=="72"&&(e+=` offset="${t.off.value}"`),e+="]",o.textContent=e}Object.values(t).forEach(e=>{e.addEventListener(e.type==="checkbox"?"change":"input",i)});i();c.addEventListener("click",()=>{navigator.clipboard.writeText(o.textContent||"").then(()=>{c.textContent=nuclenTocAdmin.done,setTimeout(()=>{c.textContent=nuclenTocAdmin.copy},2e3)})});
