const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["front/js/nuclen-nuclen-quiz-optin-lIyKXEt6.js","front/js/nuclen-nuclen-quiz-main-RXJmRKM6.js","front/js/nuclen-front.js","logger-DwRZMuf8.js"])))=>i.map(i=>d[i]);
import{_ as d}from"./nuclen-front.js";import{e as c}from"./nuclen-nuclen-quiz-main-RXJmRKM6.js";import"../../logger-DwRZMuf8.js";async function p(i,e,t){var l;let n="";if(i.enabled&&i.position==="with_results"){const{buildOptinInlineHTML:s}=await d(async()=>{const{buildOptinInlineHTML:r}=await import("./nuclen-nuclen-quiz-optin-lIyKXEt6.js");return{buildOptinInlineHTML:r}},__vite__mapDeps([0,1,2,3]));n+=s(i)}n+=`
<div id="nuclen-quiz-results-title" class="nuclen-fg">${NuclenStrings.your_score}</div>
<div id="nuclen-quiz-results-score" class="nuclen-fg" aria-live="polite" aria-atomic="true">
${t.score} / ${e.length}
</div>`;const a=t.score===e.length?NuclenStrings.perfect:t.score>e.length/2?NuclenStrings.well_done:NuclenStrings.retake_prompt;return n+=`<div id="nuclen-quiz-score-comment" aria-live="polite">${a}</div>`,n+='<div id="nuclen-quiz-result-tabs-container">',e.forEach((s,r)=>{n+=`
<button class="nuclen-quiz-result-tab" onclick="nuclearEngagementShowQuizQuestionDetails(${r})">${r+1}</button>`}),n+='</div><div id="nuclen-quiz-result-details-container" class="nuclen-fg dashboard-box"></div>',(l=window.NuclenCustomQuizHtmlAfter)!=null&&l.trim()&&(n+=`
<div id="nuclen-quiz-end-message" class="nuclen-fg">
${window.NuclenCustomQuizHtmlAfter}
</div>`),n+=`
<button id="nuclen-quiz-retake-button" onclick="nuclearEngagementRetakeQuiz()">${NuclenStrings.retake_test}</button>`,n}function z(i,e){window.nuclearEngagementShowQuizQuestionDetails&&delete window.nuclearEngagementShowQuizQuestionDetails,window.nuclearEngagementShowQuizQuestionDetails=t=>{var l;const n=i[t],a=e.userAnswers[t];document.getElementById("nuclen-quiz-result-details-container").innerHTML=`
<p class="nuclen-quiz-detail-question">${c(n.question)}</p>
<p class="nuclen-quiz-detail-correct"><strong>${NuclenStrings.correct}</strong> ${c(n.answers[0])}</p>
${a===0?`<p class="nuclen-quiz-detail-chosen"><strong>${NuclenStrings.your_answer}</strong> ${c(n.answers[0])} <span class="nuclen-quiz-checkmark">✔️</span></p>`:`<p class="nuclen-quiz-detail-chosen"><strong>${NuclenStrings.your_answer}</strong> ${c(n.answers[a]??"[No data]")}</p>`}
<p class="nuclen-quiz-detail-explanation">${c(n.explanation)}</p>`,Array.from(document.getElementsByClassName("nuclen-quiz-result-tab")).forEach(s=>s.classList.remove("nuclen-quiz-result-active-tab")),(l=document.getElementsByClassName("nuclen-quiz-result-tab")[t])==null||l.classList.add("nuclen-quiz-result-active-tab")},window.nuclearEngagementShowQuizQuestionDetails(0)}function f(i,e,t,n,a){window.nuclearEngagementRetakeQuiz&&delete window.nuclearEngagementRetakeQuiz,window.nuclearEngagementRetakeQuiz=()=>{i.currIdx=0,i.score=0,i.userAnswers.length=0,e.innerHTML="",e.classList.add("nuclen-quiz-hidden"),t.style.width=`${1/n*100}%`,a()}}async function v(i,e,t){const{qContainer:n,aContainer:a,explContainer:l,nextBtn:s,finalContainer:r}=i;n.innerHTML="",a.innerHTML="",l.innerHTML="",s.classList.add("nuclen-quiz-hidden");const{mountOptinBeforeResults:o}=await d(async()=>{const{mountOptinBeforeResults:u}=await import("./nuclen-nuclen-quiz-optin-lIyKXEt6.js");return{mountOptinBeforeResults:u}},__vite__mapDeps([0,1,2,3]));o(r,e,t,t)}async function E(i,e,t,n,a){const{qContainer:l,aContainer:s,explContainer:r,nextBtn:o,finalContainer:u,progBar:g}=i;if(l.innerHTML="",s.innerHTML="",r.innerHTML="",o.classList.add("nuclen-quiz-hidden"),u.classList.remove("nuclen-quiz-hidden"),u.innerHTML=await p(e,t,n),u.setAttribute("aria-live","polite"),e.enabled&&e.position==="with_results"){const{attachInlineOptinHandlers:m}=await d(async()=>{const{attachInlineOptinHandlers:w}=await import("./nuclen-nuclen-quiz-optin-lIyKXEt6.js");return{attachInlineOptinHandlers:w}},__vite__mapDeps([0,1,2,3]));m(e)}z(t,n),f(n,u,g,t.length,a),typeof gtag=="function"&&gtag("event","nuclen_quiz_end")}export{E as renderFinal,v as renderOptinBeforeResultsFlow};
//# sourceMappingURL=nuclen-nuclen-quiz-results-vTP7vzTk.js.map
