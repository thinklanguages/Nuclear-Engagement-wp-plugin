{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(rg:*)",
      "Bash(grep:*)",
      "Bash(git add:*)",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "Bash(git commit:*)",
      "Bash(composer install:*)",
      "Bash(npm test)",
      "Bash(vendor/bin/phpunit --version)",
      "Bash(ls:*)",
      "Bash(rm:*)",
      "Bash(npm install)",
      "Bash(composer test)",
      "Bash(./vendor/bin/phpunit:*)",
      "Bash(npm test:*)",
      "Bash(npm run build:*)",
      "Bash(npm run lint)",
      "Bash(php -l:*)",
      "Bash(mv:*)",
      "Bash(composer:*)",
      "Bash(php:*)",
      "Bash(node:*)",
      "Bash(touch:*)",
      "Bash(cp:*)",
      "Bash(vendor/bin/phpunit:*)",
      "Bash(npx tsc:*)",
      "Bash(npx eslint:*)",
      "Bash(chmod:*)",
      "Bash(sudo apt:*)",
      "Bash(sudo apt install:*)",
      "Bash(npx playwright:*)",
      "Bash(sed:*)",
      "Bash(apt list:*)",
      "Bash(apt:*)",
      "Bash(curl:*)",
      "Bash(echo $PATH)",
      "Bash(/mnt/c/tools/php84/php.exe:*)",
      "Bash(alias php=\"/mnt/c/tools/php84/php.exe\")",
      "Bash(npm run typecheck:*)",
      "Bash(npm run:*)",
      "Bash(tsc --noEmit)",
      "Bash(bash:*)",
      "Bash(dos2unix:*)",
      "Bash(sudo npx playwright:*)",
      "Bash(docker:*)",
      "Bash(./run-all-tests.sh)",
      "Bash(mkdir:*)",
      "Bash(timeout 10s npx postcss:*)",
      "Bash(./docker-test-runner.sh:*)",
      "Bash(for:*)",
      "Bash(do)",
      "Bash(echo \"Processing: $file\")",
      "Bash(done)",
      "Bash(npx stylelint:*)",
      "Bash(cat:*)",
      "Bash(wp-env run cli wp post create:*)",
      "Bash(npm install:*)",
      "Bash(npx vite:*)",
      "Bash(true)",
      "Bash(./docker-lint.sh:*)",
      "Bash(./final-phpcs-fix.sh:*)",
      "Bash(jq:*)",
      "Bash(vendor/bin/phpstan analyse:*)",
      "Bash(vendor/bin/phpcs:*)",
      "Bash(vendor/bin/phpcbf:*)",
      "Bash(# Get additional class names that might have been missed\ngrep -l \"\"^class\\|^abstract class\\|^interface\\|^trait\"\" /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc/Core/*.php | while read file; do\n    basename \"\"$file\"\" .php\ndone | sort)",
      "Bash(# Create a temporary file with all class names from inc directory\ncat > /tmp/all_classes.txt << ''EOF''\nAbstractModule\nAbstractRepository\nActivator\nAdminNoticeService\nApiException\nApiResponseHandler\nApiUserManager\nAssetVersions\nAutoloader\nAutoGenerationQueue\nAutoGenerationScheduler\nAutoGenerationService\nBackgroundProcessor\nBaseController\nBaseException\nBaseService\nBaseSetupHandler\nBlocks\nBootloader\nCacheManager\nCompatibilityAutoloader\nContainerRegistrar\nContentRequest\nContentStorageService\nCssSanitizer\nDashboardDataService\nDatabaseException\nDatabaseMigrations\nDatabaseRepository\nDatabaseUtils\nDeactivator\nDefaults\nEnvironment\nErrorAnalytics\nErrorContext\nErrorHandler\nErrorManager\nErrorManagerFacade\nErrorMonitor\nErrorNotification\nErrorRecovery\nEvent\nEventDispatcher\nExceptionHandler\nFormSanitizer\nGenerateRequest\nGenerationPoller\nGenerationResponse\nGenerationService\nHeadingExtractor\nIndexManager\nInputValidator\nInstaller\nInventoryCache\nJobHandler\nJobQueue\nJobStatus\nLazyLoader\nLoader\nLoggingService\nMetaRegistration\nModuleLoader\nModuleRegistry\nNuclen_Summary_Metabox\nNuclen_Summary_Shortcode\nNuclen_Summary_View\nNuclen_TOC_Admin\nNuclen_TOC_Assets\nNuclen_TOC_Headings\nNuclen_TOC_Render\nNuclen_TOC_Utils\nNuclen_TOC_View\nOptinData\nOptinExportService\nOptinRepository\nPerformanceMonitor\nPlugin\nPluginBootstrap\nPointerService\nPost\nPostDataFetcher\nPostRepository\nPostService\nPostsCountRequest\nPostsQueryService\nProgressBarStyleGenerator\nPublishGenerationHandler\nQueryOptimizer\nQuiz_Admin\nQuiz_Service\nQuiz_Shortcode\nQuizButtonStyleGenerator\nQuizContainerStyleGenerator\nRateLimiter\nRemoteApiService\nRemoteRequest\nResponseUtils\nSecurityErrorHandler\nSecurityUtils\nServerUtils\nServiceContainer\nServiceDiscovery\nServiceFactory\nServiceRegistry\nSettingsCache\nSettingsFunctions\nSettingsHelper\nSettingsRepository\nSettingsSanitizer\nSetupService\nSlugGenerator\nStructuredLogger\nStyleGeneratorFactory\nSummaryContainerStyleGenerator\nSummary_Service\nTheme\nThemeConfigConverter\nThemeCssGenerator\nThemeEventManager\nThemeLoader\nThemeMigrationService\nThemeRegistry\nThemeRepository\nThemeSchema\nThemeSettingsService\nThemeValidator\nTocCache\nTocModule\nTocStyleGenerator\nTokenManager\nUnifiedErrorHandler\nUnifiedErrorManager\nUpdatesRequest\nUpdatesResponse\nUserErrorManager\nUtils\nValidationException\nValidationUtils\nValidator\nVersionService\nWordPressCache\nEOF\n\n# Create a temporary file with test class names (removing Test suffix)\nls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/*.php 2>/dev/null | grep -E \"\"Test\\.php$\"\" | xargs -I {} basename {} Test.php | sort > /tmp/tested_classes.txt\n\n# Find classes without tests\necho \"\"=== PHP Classes Missing Tests ===\"\"\necho \"\"\"\"\ncomm -23 /tmp/all_classes.txt /tmp/tested_classes.txt | sort)",
      "Bash(# Let''s properly check which important core classes are missing tests\necho \"\"=== CORE FUNCTIONALITY CLASSES MISSING TESTS ===\"\"\necho \"\"\"\"\necho \"\"Critical Core Classes:\"\"\necho \"\"----------------------\"\"\n\n# Check Core directory classes\nfor class in Activator Deactivator Installer Loader PluginBootstrap LazyLoader JobHandler JobQueue JobStatus QueryOptimizer ModuleRegistry ServiceFactory ServiceRegistry; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Error Handling Classes:\"\"\necho \"\"----------------------\"\"\nfor class in ErrorAnalytics ErrorContext ErrorManagerFacade ErrorMonitor ErrorNotification ErrorRecovery ExceptionHandler UnifiedErrorManager UserErrorManager; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Base/Abstract Classes:\"\"\necho \"\"----------------------\"\"\nfor class in BaseController BaseService BaseSetupHandler AbstractRepository AbstractModule BaseException; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Service Classes:\"\"\necho \"\"----------------------\"\"\nfor class in PostService ThemeConfigConverter ThemeCssGenerator ThemeEventManager ThemeSettingsService ThemeValidator StructuredLogger WordPressCache; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Database/Model Classes:\"\"\necho \"\"----------------------\"\"\nfor class in Theme Post IndexManager ThemeSchema; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Style Generator Classes:\"\"\necho \"\"----------------------\"\"\nfor class in StyleGeneratorFactory ProgressBarStyleGenerator QuizButtonStyleGenerator QuizContainerStyleGenerator SummaryContainerStyleGenerator TocStyleGenerator; do\n    if ! ls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php 2>/dev/null >/dev/null; then\n        echo \"\"- $class\"\"\n    fi\ndone)",
      "Bash(# Get a proper list of existing test files (just the class names they test)\nls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/*Test.php 2>/dev/null | xargs -I {} basename {} .php | sed ''s/Test$//'' | sort | uniq > /tmp/tested_classes_clean.txt\n\n# Now let''s check which important classes are actually missing tests\necho \"\"=== IMPORTANT PHP CLASSES MISSING TESTS ===\"\"\necho \"\"\"\"\n\n# Critical Core Infrastructure\necho \"\"1. CRITICAL CORE INFRASTRUCTURE:\"\"\necho \"\"--------------------------------\"\"\nfor class in Activator Deactivator Installer Loader PluginBootstrap LazyLoader Environment CompatibilityAutoloader; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Job/Queue System\necho \"\"\"\"\necho \"\"2. JOB/QUEUE SYSTEM:\"\"\necho \"\"--------------------\"\"\nfor class in JobHandler JobQueue JobStatus; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Error Management System\necho \"\"\"\"\necho \"\"3. ERROR MANAGEMENT SYSTEM:\"\"\necho \"\"---------------------------\"\"\nfor class in ErrorAnalytics ErrorContext ErrorManagerFacade ErrorMonitor ErrorNotification ErrorRecovery ExceptionHandler UnifiedErrorManager UserErrorManager; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Base Classes/Abstractions\necho \"\"\"\"\necho \"\"4. BASE CLASSES/ABSTRACTIONS:\"\"\necho \"\"-----------------------------\"\"\nfor class in BaseController BaseService BaseSetupHandler AbstractRepository AbstractModule BaseException; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Service Layer\necho \"\"\"\"\necho \"\"5. SERVICE LAYER:\"\"\necho \"\"-----------------\"\"\nfor class in PostService DashboardDataService ThemeConfigConverter ThemeCssGenerator ThemeEventManager ThemeSettingsService ThemeValidator ApiResponseHandler; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Database/Schema\necho \"\"\"\"\necho \"\"6. DATABASE/SCHEMA:\"\"\necho \"\"-------------------\"\"\nfor class in IndexManager ThemeSchema QueryOptimizer; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone\n\n# Module System\necho \"\"\"\"\necho \"\"7. MODULE SYSTEM:\"\"\necho \"\"-----------------\"\"\nfor class in ModuleRegistry Quiz_Admin Quiz_Service Summary_Service; do\n    if ! grep -q \"\"^${class}$\"\" /tmp/tested_classes_clean.txt; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" -type f 2>/dev/null | head -1)\n        if [ ! -z \"\"$file\"\" ]; then\n            echo \"\"   - $class ($(dirname \"\"$file\"\" | sed ''s|.*/nuclear-engagement/inc/||''))\"\"\n        fi\n    fi\ndone)",
      "Bash(# First, let''s see what test files we actually have\necho \"\"Existing test files:\"\"\nls /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/*Test.php 2>/dev/null | xargs -I {} basename {} .php | sed ''s/Test$//'' | sort | head -20)",
      "Bash(#!/bin/bash\n\n# Get all PHP classes from inc directory\necho \"\"=== IMPORTANT PHP CLASSES WITHOUT TEST COVERAGE ===\"\"\necho \"\"\"\"\n\n# Function to check if test exists\ncheck_test() {\n    local class=\"\"$1\"\"\n    if [ -f \"\"/mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/tests/${class}Test.php\"\" ]; then\n        return 0\n    fi\n    return 1\n}\n\n# 1. Core Infrastructure\necho \"\"1. CORE INFRASTRUCTURE CLASSES:\"\"\necho \"\"-------------------------------\"\"\nclasses=(Activator Deactivator Installer Loader PluginBootstrap LazyLoader Environment CompatibilityAutoloader)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 2. Job/Queue System  \necho \"\"\"\"\necho \"\"2. JOB/QUEUE SYSTEM:\"\"\necho \"\"--------------------\"\"\nclasses=(JobHandler JobQueue JobStatus)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 3. Error Management\necho \"\"\"\"\necho \"\"3. ERROR MANAGEMENT SYSTEM:\"\"\necho \"\"---------------------------\"\"\nclasses=(ErrorAnalytics ErrorContext ErrorManagerFacade ErrorMonitor ErrorNotification ErrorRecovery ExceptionHandler UserErrorManager)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 4. Base Classes\necho \"\"\"\"\necho \"\"4. BASE/ABSTRACT CLASSES:\"\"\necho \"\"-------------------------\"\"\nclasses=(BaseController BaseService BaseSetupHandler AbstractRepository AbstractModule)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 5. Service Layer\necho \"\"\"\"\necho \"\"5. SERVICE CLASSES:\"\"\necho \"\"-------------------\"\"\nclasses=(PostService ThemeConfigConverter ThemeCssGenerator ThemeEventManager ThemeSettingsService ThemeValidator StructuredLogger WordPressCache)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 6. Style Generators\necho \"\"\"\"\necho \"\"6. STYLE GENERATOR CLASSES:\"\"\necho \"\"---------------------------\"\"\nclasses=(StyleGeneratorFactory ProgressBarStyleGenerator QuizButtonStyleGenerator QuizContainerStyleGenerator SummaryContainerStyleGenerator TocStyleGenerator)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 7. Database/Models\necho \"\"\"\"\necho \"\"7. DATABASE/MODEL CLASSES:\"\"\necho \"\"--------------------------\"\"\nclasses=(IndexManager ThemeSchema QueryOptimizer Post Theme)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 8. Module Components\necho \"\"\"\"\necho \"\"8. MODULE COMPONENTS:\"\"\necho \"\"---------------------\"\"\nclasses=(Quiz_Admin Quiz_Service Summary_Service ModuleRegistry HeadingExtractor SlugGenerator TocCache)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\n# 9. Utilities and Helpers\necho \"\"\"\"\necho \"\"9. UTILITY/HELPER CLASSES:\"\"\necho \"\"--------------------------\"\"\nclasses=(ResponseUtils ServerUtils FormSanitizer ServiceFactory ServiceRegistry)\nfor class in \"\"${classes[@]}\"\"; do\n    if ! check_test \"\"$class\"\"; then\n        file=$(find /mnt/c/Users/info/Documents/GitHub/Nuclear-Engagement-plugin/nuclear-engagement/inc -name \"\"${class}.php\"\" 2>/dev/null | head -1)\n        [ -n \"\"$file\"\" ] && echo \"\"   - $class\"\"\n    fi\ndone\n\necho \"\"\"\"\necho \"\"Note: These are important core classes that should have test coverage to ensure plugin stability.\"\")",
      "Bash(timeout 60 ./vendor/bin/phpunit:*)",
      "Bash(ln:*)",
      "Bash(./vendor/bin/phpcs --standard=phpcs.xml nuclear-engagement/ --report=summary)",
      "Bash(./vendor/bin/phpstan analyse:*)",
      "Bash(wget:*)",
      "Bash(tar:*)",
      "Bash(./vendor/bin/phpcbf:*)",
      "Bash(./vendor/bin/phpcs --standard=phpcs.xml nuclear-engagement/inc/Utils/ValidationUtils.php --report=source)",
      "Bash(./vendor/bin/phpcs:*)",
      "Bash(./setup-test-post.sh:*)",
      "Bash(./scripts/test-property-naming.sh:*)",
      "Bash(timeout 60 vendor/bin/phpunit:*)",
      "Bash(wp cron event:*)",
      "Bash(echo:*)",
      "Bash(timeout 120 composer test)"
    ],
    "deny": []
  }
}